
<!DOCTYPE html>
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Configurations | aem-monitoring</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
		
		<link href="./css/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		<link href="./css/site.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/github.min.css" rel="stylesheet" />
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

	</head>

	<body class="page-configuration project-aem-monitoring" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<nav class="navbar navbar-default navbar-fixed-top">
				<div class="container">
					<div class="navbar-header">
				      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
				        <span class="sr-only">Toggle navigation</span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				      </button>
				    
					<a class="navbar-brand" href="index.html">AEM Monitoring</a>
					</div>
					<div class="collapse navbar-collapse">
						<ul class="nav navbar-nav navbar-right">
							<li><a href="https://github.com/OlsonDigital/aem-monitoring" title="GitHub" class="externalLink">GitHub </a></li>
							<li><a href="overview.html" title="Overview">Overview </a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="topologies.html" title="Topologies">Topologies </a></li>
									<li class="active"><a href="" title="Configuration">Configuration </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu">
										<a href="project-info.html" title="Project Information">Project Information </a>
										<ul class="dropdown-menu">
											<li><a href="dependency-convergence.html" title="Dependency Convergence">Dependency Convergence </a></li>
											<li><a href="dependency-info.html" title="Dependency Information">Dependency Information </a></li>
											<li><a href="dependency-management.html" title="Dependency Management">Dependency Management </a></li>
											<li><a href="distribution-management.html" title="Distribution Management">Distribution Management </a></li>
											<li><a href="index.html" title="About">About </a></li>
											<li><a href="license.html" title="Licenses">Licenses </a></li>
											<li><a href="modules.html" title="Project Modules">Project Modules </a></li>
											<li><a href="plugin-management.html" title="Plugin Management">Plugin Management </a></li>
											<li><a href="plugins.html" title="Plugins">Plugins </a></li>
											<li><a href="team-list.html" title="Team">Team </a></li>
											<li><a href="source-repository.html" title="Source Code Management">Source Code Management </a></li>
											<li><a href="project-summary.html" title="Summary">Summary </a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
		</nav>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->

	
	
	<header class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="http://www.icfolson.com" id="bannerLeft"><img src="images/logo.jpg" alt="ICF Olson"></a>
				</div>
				<div class="pull-right">
										<a href="index.html" id="bannerRight"><h1>AEM Monitoring</h1></a>
					<p class="lead">Monitor your AEM applications</p>
				</div>
			</div>
		</div>


	
		</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<h1>Configurations</h1> 
<p>This document lists the configuration options exposed by the various AEM Monitoring bundles.</p> 
<div class="section"> 
 <h2 id="Core_Bundle">Core Bundle</h2> 
 <p>The core bundle is installed in all installation topologies. It contains the following configurable services:</p> 
 <div class="section"> 
  <h3 id="Process_Metrics_Recorder">Process Metrics Recorder</h3> 
  <p>The Process Metrics Recorder samples the AEM Java Process and records various attributes as monitoring metrics. The attributes recorded are:</p> 
  <ul> 
   <li>CPU Average Load</li> 
   <li>Heap Memory Used</li> 
   <li>Heap Memory Committed</li> 
   <li>Non-Heap Memory Used</li> 
   <li>Non-Heap Memory Committed</li> 
  </ul> 
  <p>It exposes the following configuration options:</p> 
  <ul> 
   <li>Disable (boolean, default <tt>false</tt>): Whether to disable the recorder</li> 
   <li>Sample Period (integer, default <tt>15</tt>): The number of seconds between each sample</li> 
  </ul>
 </div> 
 <div class="section"> 
  <h3 id="Replication_Recorder">Replication Recorder</h3> 
  <p>The Replication Recorder records replications on the instance as monitoring events with the following properties:</p> 
  <ul> 
   <li>user (string): The user ID that requested the replication</li> 
   <li>type (string): The replication type (“ACTIVATE”, “DEACTIVATE”, or “DELETE”)</li> 
   <li>path (string): The path replicated</li> 
  </ul> 
  <p>The service exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the recorder</p>
 </div> 
 <div class="section"> 
  <h3 id="Resource_Change_Recorder">Resource Change Recorder</h3> 
  <p>The Resource Change Recorder records changes made to resources and monitoring events with the following properties:</p> 
  <ul> 
   <li>user (string); The user who updated the resource</li> 
   <li>type (string): The change type (“ADDED”, “REMOVED”, or “CHANGED”)</li> 
   <li>path (string): The path of the changed resource</li> 
  </ul> 
  <p>The service exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the recorder * Watched Paths (string, multiple, default [“/content”, “/etc”]): The paths that should be monitored for resource changes</p>
 </div> 
 <div class="section"> 
  <h3 id="Sling_Request_Recorder">Sling Request Recorder</h3> 
  <p>The Sling Request Recorder records incoming Sling requests as monitoring events with the following properties:</p> 
  <ul> 
   <li>request</li> 
   <li>user (string): The user ID that made the request</li> 
   <li>method (string): The method of the request</li> 
   <li>path (string): The path of the requested resource (if resolved)</li> 
   <li>selectors (string): The selector string (if any)</li> 
   <li>extension (string): The extension (if any)</li> 
   <li>suffix (string): The suffix (if any)</li> 
   <li>header (string): Captured headers (see configuration below)</li> 
   <li>response</li> 
   <li>status (string): The response code returned</li> 
   <li>length (integer): The length, in bytes, of the response</li> 
   <li>duration ms (integer): The duration, in milliseconds, of the transaction</li> 
  </ul> 
  <p>The service exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the recorder * Captured Headers (string, multiple, default [“Host”, “Referer”]): The headers that should be captured with the monitoring event. Captured headers will be recorded as additional event properties (with string values) named <tt>request.header.HEADER_NAME</tt></p>
 </div> 
 <div class="section"> 
  <h3 id="Logging_Monitoring_Writer">Logging Monitoring Writer</h3> 
  <p>The Logging Monitoring Writer outputs all monitoring data to a log (on TRACE) for debugging. The service exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the logging writer</p>
 </div>
</div> 
<div class="section"> 
 <h2 id="Database_Bundle">Database Bundle</h2> 
 <p>The database bundle is installed in H2 and Generic DB topologies (i.e., all except the New Relic topology). It contains the following configurable services:</p> 
 <div class="section"> 
  <h3 id="Database_Monitoring_Writer">Database Monitoring Writer</h3> 
  <p>The Database Monitoring Writer outputs all monitoring data to the configured monitoring database via JDBC. The service exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the database writer</p>
 </div> 
 <div class="section"> 
  <h3 id="Delete_Old_Data_Task">Delete Old Data Task</h3> 
  <p>The Delete Old Data Task is a scheduled task that deletes monitoring data older than a configured limit. By default, it runs at midnight and deletes data older than 7 days. The service exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the task * Storage Period (integer, default <tt>7</tt>): The length of time, in days, to retain monitoring data * Task Schedule (string, default <tt>0 0 0 * * ?</tt>): A cron expression used to schedule the task</p>
 </div>
</div> 
<div class="section"> 
 <h2 id="H2_Bundle">H2 Bundle</h2> 
 <p>The H2 bundle is only installed in the on-instance topologies. It contains the following configurable services:</p> 
 <div class="section"> 
  <h3 id="H2_Server">H2 Server</h3> 
  <p>The H2 Server service configures (and optionally manages) an H2 server instance for storage of monitoring data. The service exposes the following configuration options: * Server (string, default <tt>localhost</tt>): A server name or IP address used to connect to the server * Server Port (int, default <tt>8084</tt> on author and <tt>8085</tt> on publish): The port that the server runs on * H2 basedir (string, default <tt>$SLING_HOME/db</tt>): An optional base directory. * Allow Remote (boolean, default <tt>true</tt>): Whether the server allows access to other instances. Also required to access the DB using the H2 console. * Externally Managed (boolean, default <tt>false</tt>): Check to prevent this service from starting/stopping the server. The server must be started externally and accessible from the specified server/port.</p> 
  <p>### H2 Connection Provider</p> 
  <p>The H2 Connection Provider service generates DB connections for the client code. It uses the H2 Server configured above, and additionally specifies a database name, user, and password. The service exposes the following configuration options: * DB Name (string, default <tt>monitoring</tt>): The database name to connect to * User (string, default ‘sa’): The user to connect as * Password (string): The password to connect with</p> 
  <p>## Generic DB Bundle</p> 
  <p>The Generic DB bundle is only installed in the off-instance topology. It contains the following configurable service:</p> 
  <p>### Generic Database Connection Provider</p> 
  <p>The Generic Database Connection Provider assumes there is a configured Day Commons JDBC Connection Pool with a name <tt>aem-monitoring</tt>. It’s only purpose is to wrap the connections in a jOOQ wrapper that specifies the dialect of the connected database. The service exposes the following configuration options: * SQL Dialect (string, required): The SQL Dialect to use for the <tt>aem-monitoring</tt> database. See <a class="externalLink" href="http://www.jooq.org/javadoc/3.6.2/org/jooq/SQLDialect.html">jOOQ Documentation</a> for available constants</p>
 </div>
</div> 
<div class="section"> 
 <h2 id="New_Relic_Bundle">New Relic Bundle</h2> 
 <p>The New Relic bundle is only installed in the New Relic topology. It contains the following configurable service: </p> 
 <div class="section"> 
  <h3 id="New_Relic_Monitoring_Writer">New Relic Monitoring Writer</h3> 
  <p>The New Relic Monitoring Writer writes monitoring data to New Relic servers. It assumes the New Relic agent is installed on the instance (and will fail if not). The writer exposes the following configuration options: * Disable (boolean, default <tt>false</tt>): Whether to disable the writer</p>
 </div>
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span4 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">User Guide</li>
						<li>
							<a href="topologies.html" title="Topologies">Topologies </a>
						</li>
						<li class="active">
							<a href="#" title="Configuration">Configuration </a>
						</li>
					</ul>
				</div>
				<div class="span5 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Documentation</li>
						<li>
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2017 <a href="http://www.icfolson.com">ICF Olson</a>. All Rights Reserved.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="./js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	<script src="https://use.typekit.net/rya5bvi.js"></script><script>try{Typekit.load({ async: true });}catch(e){}</script>
	
	</body>
</html>
